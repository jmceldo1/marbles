<!DOCTYPE html>
<html>
<body>

<button onclick="dealPlease()" style="height:200px; width:200px; display:inline-block; background-image: url(../images/PNG-cards-1.3/haas.jpg);background-size:100% 100%;"></button>
<p id="demo" style="display:inline-block"></p>

<style type="text/css">
.tg  {border-collapse:collapse;border-spacing:0;width:95vw; height:95vw}
.tg td{padding:9px 9px;border-style:solid;border-width:1px;border-color:black;}
.tg th{padding:9px 9px;border-style:solid;border-width:1px;border-color:black;}
.tg .tg-hebq{background-color:#fcff2f;color:#000000;border-color:inherit}
.tg .tg-2n01{background-color:#3531ff;border-color:inherit}
.tg .tg-6gc2{background-color:#986536;border-color:inherit}
.tg .tg-kwiq{color:#000000;border-color:inherit}
.tg .tg-xldj{border-color:transparent}
.tg .tg-39uy{background-color:#986536;color:#000000;border-color:inherit}
.tg .tg-0pky{border-color:inherit;}
.tg .tg-tw5s{background-color:#fe0000;border-color:inherit}
.tg .tg-agym{background-color:#fcff2f;border-color:inherit}
.tg .tg-706m{background-color:#009901;border-color:inherit}
</style>
<table class="tg">
  <tr>
    <td class="tg-xldj" colspan="5"></td>
    <td class="tg-39uy"></td>
    <td class="tg-39uy"></td>
    <td class="tg-39uy"></td>
    <td class="tg-39uy"></td>
    <td class="tg-hebq"></td>
    <td class="tg-xldj" colspan="5"></th>
  </tr>
  <tr>
    <td class="tg-0pky"></td>
    <td class="tg-tw5s"></td>
    <td class="tg-0pky"></td>
    <td class="tg-tw5s"></td>
    <td class="tg-0pky"></td>
    <td class="tg-6gc2"></td>
    <td class="tg-0pky"></td>
    <td class="tg-agym"></td>
    <td class="tg-0pky"></td>
    <td class="tg-6gc2"></td>
    <td class="tg-0pky"></td>
    <td class="tg-agym"></td>
    <td class="tg-kwiq"></td>
    <td class="tg-agym"></td>
    <td class="tg-0pky"></td>
  </tr>
  <tr>
    <td class="tg-0pky" colspan="5"></td>
    <td class="tg-6gc2"></td>
    <td class="tg-0pky"></td>
    <td class="tg-agym"></td>
    <td class="tg-0pky"></td>
    <td class="tg-6gc2"></td>
    <td class="tg-0pky" colspan="5"></td>
  </tr>
  <tr>
    <td class="tg-0pky"></td>
    <td class="tg-tw5s"></td>
    <td class="tg-0pky"></td>
    <td class="tg-tw5s"></td>
    <td class="tg-0pky"></td>
    <td class="tg-6gc2"></td>
    <td class="tg-0pky"></td>
    <td class="tg-agym"></td>
    <td class="tg-0pky"></td>
    <td class="tg-6gc2"></td>
    <td class="tg-0pky"></td>
    <td class="tg-agym"></td>
    <td class="tg-0pky"></td>
    <td class="tg-agym"></td>
    <td class="tg-0pky"></td>
  </tr>
  <tr>
    <td class="tg-0pky" colspan="5"></td>
    <td class="tg-6gc2"></td>
    <td class="tg-0pky"></td>
    <td class="tg-agym"></td>
    <td class="tg-0pky"></td>
    <td class="tg-6gc2"></td>
    <td class="tg-0pky" colspan="5"></td>
  </tr>
  <tr>
    <td class="tg-tw5s"></td>
    <td class="tg-6gc2"></td>
    <td class="tg-6gc2"></td>
    <td class="tg-6gc2"></td>
    <td class="tg-6gc2"></td>
    <td class="tg-6gc2"></td>
    <td class="tg-0pky"></td>
    <td class="tg-0pky"></td>
    <td class="tg-0pky"></td>
    <td class="tg-6gc2"></td>
    <td class="tg-6gc2"></td>
    <td class="tg-6gc2"></td>
    <td class="tg-6gc2"></td>
    <td class="tg-6gc2"></td>
    <td class="tg-6gc2"></td>
  </tr>
  <tr>
    <td class="tg-6gc2"></td>
    <td class="tg-0pky"></td>
    <td class="tg-0pky"></td>
    <td class="tg-0pky"></td>
    <td class="tg-0pky"></td>
    <td class="tg-0pky"></td>
    <td class="tg-0pky"></td>
    <td class="tg-0pky"></td>
    <td class="tg-0pky"></td>
    <td class="tg-0pky"></td>
    <td class="tg-0pky"></td>
    <td class="tg-0pky"></td>
    <td class="tg-0pky"></td>
    <td class="tg-0pky"></td>
    <td class="tg-6gc2"></td>
  </tr>
  <tr>
    <td class="tg-6gc2"></td>
    <td class="tg-tw5s"></td>
    <td class="tg-tw5s"></td>
    <td class="tg-tw5s"></td>
    <td class="tg-tw5s"></td>
    <td class="tg-0pky"></td>
    <td class="tg-0pky"></td>
    <td class="tg-0pky"></td>
    <td class="tg-0pky"></td>
    <td class="tg-0pky"></td>
    <td class="tg-706m"></td>
    <td class="tg-706m"></td>
    <td class="tg-706m"></td>
    <td class="tg-706m"></td>
    <td class="tg-6gc2"></td>
  </tr>
  <tr>
    <td class="tg-6gc2"></td>
    <td class="tg-0pky"></td>
    <td class="tg-0pky"></td>
    <td class="tg-0pky"></td>
    <td class="tg-0pky"></td>
    <td class="tg-0pky"></td>
    <td class="tg-0pky"></td>
    <td class="tg-0pky"></td>
    <td class="tg-0pky"></td>
    <td class="tg-0pky"></td>
    <td class="tg-0pky"></td>
    <td class="tg-0pky"></td>
    <td class="tg-0pky"></td>
    <td class="tg-0pky"></td>
    <td class="tg-6gc2"></td>
  </tr>
  <tr>
    <td class="tg-6gc2"></td>
    <td class="tg-6gc2"></td>
    <td class="tg-6gc2"></td>
    <td class="tg-6gc2"></td>
    <td class="tg-6gc2"></td>
    <td class="tg-6gc2"></td>
    <td class="tg-0pky"></td>
    <td class="tg-0pky"></td>
    <td class="tg-0pky"></td>
    <td class="tg-6gc2"></td>
    <td class="tg-6gc2"></td>
    <td class="tg-6gc2"></td>
    <td class="tg-6gc2"></td>
    <td class="tg-6gc2"></td>
    <td class="tg-706m"></td>
  </tr>
  <tr>
    <td class="tg-0pky" colspan="5"></td>
    <td class="tg-6gc2"></td>
    <td class="tg-0pky"></td>
    <td class="tg-2n01"></td>
    <td class="tg-0pky"></td>
    <td class="tg-6gc2"></td>
    <td class="tg-0pky" colspan="5"></td>
  </tr>
  <tr>
    <td class="tg-0pky"></td>
    <td class="tg-2n01"></td>
    <td class="tg-0pky"></td>
    <td class="tg-2n01"></td>
    <td class="tg-0pky"></td>
    <td class="tg-6gc2"></td>
    <td class="tg-0pky"></td>
    <td class="tg-2n01"></td>
    <td class="tg-0pky"></td>
    <td class="tg-6gc2"></td>
    <td class="tg-0pky"></td>
    <td class="tg-706m"></td>
    <td class="tg-0pky"></td>
    <td class="tg-706m"></td>
    <td class="tg-0pky"></td>
  </tr>
  <tr>
    <td class="tg-0pky" colspan="5"></td>
    <td class="tg-6gc2"></td>
    <td class="tg-0pky"></td>
    <td class="tg-2n01"></td>
    <td class="tg-0pky"></td>
    <td class="tg-6gc2"></td>
    <td class="tg-0pky" colspan="5"></td>
  </tr>
  <tr>
    <td class="tg-0pky"></td>
    <td class="tg-2n01"></td>
    <td class="tg-0pky"></td>
    <td class="tg-2n01"></td>
    <td class="tg-0pky"></td>
    <td class="tg-6gc2"></td>
    <td class="tg-0pky"></td>
    <td class="tg-2n01"></td>
    <td class="tg-0pky"></td>
    <td class="tg-6gc2"></td>
    <td class="tg-0pky"></td>
    <td class="tg-706m"></td>
    <td class="tg-0pky"></td>
    <td class="tg-706m"></td>
    <td class="tg-0pky"></td>
  </tr>
  <tr>
    <td class="tg-0pky" colspan="5"></td>
    <td class="tg-2n01"></td>
    <td class="tg-6gc2"></td>
    <td class="tg-6gc2"></td>
    <td class="tg-6gc2"></td>
    <td class="tg-6gc2"></td>
    <td class="tg-0pky" colspan="5" ontouchstart="blah()"></td>
  </tr>
</table>

<p id="p1Hand">hand 1</p>
<img id="p1c0" onClick="blah()" alt="No Card" class="cards" src="images/PNG-cards-1.3/haas.jpg" style="width:150px;height:228px;display:inline-block">
<img id="p1c1" alt="No Card" class="cards" src="images/PNG-cards-1.3/haas.jpg" style="width:150px;height:228px;display:inline-block">
<img id="p1c2" alt="No Card" class="cards" src="images/PNG-cards-1.3/haas.jpg" style="width:150px;height:228px;display:inline-block">
<img id="p1c3" alt="No Card" class="cards" src="images/PNG-cards-1.3/haas.jpg" style="width:150px;height:228px;display:inline-block">
<img id="p1c4" alt="No Card" class="cards" src="images/PNG-cards-1.3/haas.jpg" style="width:150px;height:228px;display:inline-block">

<!-- <p id="p2Hand">hand 2</p>
<img id="p2c0" alt="No Card" class="cards" src="images/PNG-cards-1.3/haas.jpg" style="width:150px;height:228px;display:inline-block">
<img id="p2c1" alt="No Card" class="cards" src="images/PNG-cards-1.3/haas.jpg" style="width:150px;height:228px;display:inline-block">
<img id="p2c2" alt="No Card" class="cards" src="images/PNG-cards-1.3/haas.jpg" style="width:150px;height:228px;display:inline-block">
<img id="p2c3" alt="No Card" class="cards" src="images/PNG-cards-1.3/haas.jpg" style="width:150px;height:228px;display:inline-block">
<img id="p2c4" alt="No Card" class="cards" src="images/PNG-cards-1.3/haas.jpg" style="width:150px;height:228px;display:inline-block">

<p id="p3Hand">hand 3</p>
<img id="p3c0" alt="No Card" class="cards" src="images/PNG-cards-1.3/haas.jpg" style="width:150px;height:228px;display:inline-block">
<img id="p3c1" alt="No Card" class="cards" src="images/PNG-cards-1.3/haas.jpg" style="width:150px;height:228px;display:inline-block">
<img id="p3c2" alt="No Card" class="cards" src="images/PNG-cards-1.3/haas.jpg" style="width:150px;height:228px;display:inline-block">
<img id="p3c3" alt="No Card" class="cards" src="images/PNG-cards-1.3/haas.jpg" style="width:150px;height:228px;display:inline-block">
<img id="p3c4" alt="No Card" class="cards" src="images/PNG-cards-1.3/haas.jpg" style="width:150px;height:228px;display:inline-block">


<p id="p4Hand">hand 4</p>
<img id="p4c0" alt="No Card" class="cards" src="images/PNG-cards-1.3/haas.jpg" style="width:150px;height:228px;display:inline-block">
<img id="p4c1" alt="No Card" class="cards" src="images/PNG-cards-1.3/haas.jpg" style="width:150px;height:228px;display:inline-block">
<img id="p4c2" alt="No Card" class="cards" src="images/PNG-cards-1.3/haas.jpg" style="width:150px;height:228px;display:inline-block">
<img id="p4c3" alt="No Card" class="cards" src="images/PNG-cards-1.3/haas.jpg" style="width:150px;height:228px;display:inline-block">
<img id="p4c4" alt="No Card" class="cards" src="images/PNG-cards-1.3/haas.jpg" style="width:150px;height:228px;display:inline-block"> -->

<script>
var re = /images\/PNG-cards-1.3\/(.*)_of_/;
var str = "url(images/PNG-cards-1.3/haas.jpg)";
var newStr = str.match(re);
var matched = newStr[1];
cards = [];
p1 = [];
p2 = [];
p3 = [];
p4 = [];

shuffle();

function blah() {
  console.log("Hello World");
}

// Help Functions
function initDeck() {
  var index;
  var max = 52;
  var suit = 'hearts';
  var cardNum = 1;
  for (index = 0; index < max; index++) {
    if (index === 13){
      suit = 'clubs'
      cardNum = 1;
    } else if (index === 26) {
      suit = 'diamonds';
      cardNum = 1;
    } else if (index ===39) {
      suit = "spades";
      cardNum = 1;
    }
    var realCardFace = cardNum;
    if (cardNum === 11) {
      realCardFace = "jack";
    } else if (cardNum === 12) {
      realCardFace = "queen";
    } else if (cardNum === 13) {
      realCardFace = "king";
    } else if (cardNum === 1) {
      realCardFace = "ace"
    }
    var cardFace = realCardFace + "_of_" + suit;
    var cardObj = {ind:index + 1, face:cardFace};
    cards[index] = cardObj;
    cardNum++;
  }
}

function shuffle() {
  initDeck()
  var currentIndex = cards.length, temporaryValue, randomIndex;
  while (0 !== currentIndex) {
    randomIndex = Math.floor(Math.random() * currentIndex);
    currentIndex -= 1;

    temporaryValue = cards[currentIndex];
    cards[currentIndex] = cards[randomIndex];
    cards[randomIndex] = temporaryValue;
  }

  return cards;
}

function dealCards(numOfCards) {
  var fileType = ".png";
  var pNo = 0;
  var cardNo = 0;
  for (i = 0; i <  numOfCards ; i ++) {
    switch (pNo) {
      case 0:
        var cardVal = cards.pop().face;
        document.getElementById("p1c" + cardNo).src="images/PNG-cards-1.3/" + cardVal + fileType;
        p1[cardNo] = cardVal;
        pNo++;
        break;
      case 1:
        var cardVal = cards.pop().face;
        document.getElementById("p2c" + cardNo).src="images/PNG-cards-1.3/" + cardVal + fileType;
        p2[cardNo] = cardVal;
        pNo++;
        break;
      case 2:
        var cardVal = cards.pop().face;
        document.getElementById("p3c" + cardNo).src="images/PNG-cards-1.3/" + cardVal + fileType;
        p3[cardNo] = cardVal;
        pNo++;
        break;
      default:
        var cardVal = cards.pop().face;
        document.getElementById("p4c" + cardNo).src="images/PNG-cards-1.3/" + cardVal + fileType;
        p4[cardNo] = cardVal;
        pNo = 0;
        cardNo++;
    }
  }
}

function dealPlease() {
  var formatting = event.currentTarget.style.backgroundImage;

  var deckElmnt = document.getElementById("demo");

  if (cards.length === 0){
    clearHands();
    shuffle(cards);
    deckElmnt.innerHTML = "Remaining cards in Deck:" + cards.length;
  }
  else if (cards.length === 52) {
    //clearHands();
    dealCards(20);
    deckElmnt.innerHTML = "Remaining cards in Deck:" + cards.length;

  }

  else {
    clearHands();
    dealCards(16);
    deckElmnt.innerHTML = "Remaining cards in Deck:" + cards.length;

  }

  function clearHands() {
    p1 = [];
    p2 = [];
    p3 = [];
    p4 = [];
    var cardElements = document.getElementsByClassName("cards");
    var i; j = cardElements.length;
    for (var i = 0; i < j; i++) {
      cardElements[i].src = "images/PNG-cards-1.3/haas.jpg";
    }
  }


}

</script>

</body>
</html>
